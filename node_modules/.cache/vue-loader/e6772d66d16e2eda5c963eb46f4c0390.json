{"remainingRequest":"/home/aquinas/Desktop/heroku-vue-simple/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/aquinas/Desktop/heroku-vue-simple/src/components/Components.vue?vue&type=style&index=0&id=07e42246&lang=css","dependencies":[{"path":"/home/aquinas/Desktop/heroku-vue-simple/src/components/Components.vue","mtime":1612176575856},{"path":"/home/aquinas/Desktop/heroku-vue-simple/node_modules/css-loader/dist/cjs.js","mtime":1611940967983},{"path":"/home/aquinas/Desktop/heroku-vue-simple/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1611940969159},{"path":"/home/aquinas/Desktop/heroku-vue-simple/node_modules/postcss-loader/src/index.js","mtime":1611940968471},{"path":"/home/aquinas/Desktop/heroku-vue-simple/node_modules/cache-loader/dist/cjs.js","mtime":1611940967819},{"path":"/home/aquinas/Desktop/heroku-vue-simple/node_modules/vue-loader-v16/dist/index.js","mtime":1611940969159}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgouZXZlbnQtdGFibGUgewogIG1heC13aWR0aDogNTBweDsgCiAgd29yZC13cmFwOiBicmVhay13b3JkOwp9Cgo="},{"version":3,"sources":["/home/aquinas/Desktop/heroku-vue-simple/src/components/Components.vue"],"names":[],"mappings":";;AAoDA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvB","file":"/home/aquinas/Desktop/heroku-vue-simple/src/components/Components.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"main-component\">\n    <h1>TimeMan</h1>\n    <hr>\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <h4>Create new event</h4>\n        <form @submit.prevent=\"submitForm\">\n          <div class=\"form-group row\">\n            <div class=\"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-xs-12\">\n              <input type=\"text\" class=\"form form-control col-3 mx-2\" placeholder=\"Event\" v-model=\"table.event\">\n            </div>\n            <div class=\"col-xs-6\">\n              <input type=\"date\" class=\"form form-control col-3 mx-2\" placeholder=\"Start\" v-model=\"table.start\">\n            </div>\n            <div class=\"col-xs-6\">\n              <input type=\"date\" class=\"form form-control col-3 mx-2\" placeholder=\"End\" v-model=\"table.end\">\n            </div>\n            <div class=\"col-12\">\n              <button class=\"btn btn-success\">Submit</button>\n            </div>\n          </div>\n\n        </form>\n        <hr>\n\n        <table class=\"table\">\n          <thead>\n            <th>Event</th>\n            <th>Start</th>\n            <th>End</th>\n          </thead>\n          <tbody>\n            <tr v-for=\"table in tables\" :key=\"table.id\">\n              <td class=\"event-table\">{{ table.event }}</td>\n              <td>{{ table.start }}</td>\n              <td>{{ table.end }}</td>\n              <td>\n                <button class=\"brn btn-success btn-sm mx-1\" @click=\"$data.table = table\">Edit</button>\n                <button class=\"brn btn-danger btn-sm mx-1\" @click=\"deleteTable(table)\">x</button>\n                <!--<button class=\"brn btn-danger btn-sm mx-1\" @click=\"deleteTableAxios(table)\">Delete Axios</button>-->\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n\n.event-table {\n  max-width: 50px; \n  word-wrap: break-word;\n}\n\n</style>\n\n\n<style lang=\"stylus\" scoped>\n\n\n</style>\n\n<script>\n  /*import axios from 'axios';*/\n\n  export default {\n    name: 'Components',\n    data() {\n      return {\n        table: {},\n        tables: [],\n        myDate : new Date().toISOString().slice(0,10)\n      }\n    },\n    async created() {\n      await this.getTables();\n    },\n\n    methods: {\n      submitForm() {\n        if (this.table.id === undefined) {\n          this.createTable();\n        } else {\n          this.editTable();\n        }\n      },\n\n\n      async getTables() {\n        var response = await fetch('https://heroku-timeman.herokuapp.com/database/tables/');\n        this.tables = await response.json();\n      },\n      async createTable() {\n        await this.getTables();\n\n        await fetch('https://heroku-timeman.herokuapp.com/database/tables/', {\n          method: 'post',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(this.table)\n        });\n        await this.getTables();\n      },\n      async editTable() {\n        await this.getTables();\n\n        await fetch(`https://heroku-timeman.herokuapp.com/database/tables/${this.table.id}/`, {\n          method: 'put',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(this.table)\n        });\n        await this.getTables();\n        this.table = {};\n      },\n      async deleteTable(table) {\n        await this.getTables();\n\n        await fetch(`https://heroku-timeman.herokuapp.com/database/tables/${table.id}/`, {\n          method: 'delete',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(this.table)\n        });\n        await this.getTables();\n        this.table = {};\n      },\n\n\n      /* axios */\n\n      /*\n\n      async getTablesAxios() {\n        var response = await axios({\n          url: 'https://heroku-timeman.herokuapp.com/database/tables/',\n          method: 'get',\n        });\n        this.tables = await response.data;\n      },\n\n      \n      async createTableAxios() {\n        await this.getTablesAxios();\n\n        await axios({\n          url: 'https://heroku-timeman.herokuapp.com/database/tables/',\n          method: 'post',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          data: JSON.stringify(this.table)\n        });\n        await this.getTablesAxios();\n      },\n      async editTableAxios() {\n        await this.getTablesAxios();\n\n        await fetch({\n          url: `https://heroku-timeman.herokuapp.com/database/tables/${this.table.id}/`,\n          method: 'put',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          data: JSON.stringify(this.table)\n        });\n        await this.getTablesAxios();\n        this.table = {};\n      },\n\n      async deleteTableAxios(table) {\n        await this.getTablesAxios();\n        \n        await axios({\n          url: `https://heroku-timeman.herokuapp.com/database/tables/${table.id}/`,\n          method: 'delete',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          data: JSON.stringify(this.table)\n        });\n        \n        await this.getTablesAxios();\n        this.table = {};\n      }\n\n      */\n\n\n    }\n\n  }\n</script>"]}]}